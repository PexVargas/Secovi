#pragma checksum "C:\Users\WINDOWS\Documents\GitHub\Secovi\PortalPexIM\PortalPexIM\Views\Home\Index.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "4527d059bcd5daabfad2e0c4bd58b65cd760bbf6"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Home_Index), @"mvc.1.0.view", @"/Views/Home/Index.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\Users\WINDOWS\Documents\GitHub\Secovi\PortalPexIM\PortalPexIM\Views\_ViewImports.cshtml"
using PortalPexIM;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\WINDOWS\Documents\GitHub\Secovi\PortalPexIM\PortalPexIM\Views\_ViewImports.cshtml"
using PortalPexIM.Models;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"4527d059bcd5daabfad2e0c4bd58b65cd760bbf6", @"/Views/Home/Index.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"e423e120777f1824f081df0a25f792a133825725", @"/Views/_ViewImports.cshtml")]
    public class Views_Home_Index : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral(@"<style>
    .highcharts-figure, .highcharts-data-table table {
        min-width: 310px;
        max-width: 800px;
        margin: 1em auto;
    }

    #container {
        height: 400px;
    }

    .highcharts-data-table table {
        font-family: Verdana, sans-serif;
        border-collapse: collapse;
        border: 1px solid #EBEBEB;
        margin: 10px auto;
        text-align: center;
        width: 100%;
        max-width: 500px;
    }

    .highcharts-data-table caption {
        padding: 1em 0;
        font-size: 1.2em;
        color: #555;
    }

    .highcharts-data-table th {
        font-weight: 600;
        padding: 0.5em;
    }

    .highcharts-data-table td, .highcharts-data-table th, .highcharts-data-table caption {
        padding: 0.5em;
    }

    .highcharts-data-table thead tr, .highcharts-data-table tr:nth-child(even) {
        background: #f8f8f8;
    }

    .highcharts-data-table tr:hover {
        background: #f1f7ff;
    }
    /*CSS FILT");
            WriteLiteral(@"RO*/
    .boxFiltro {
        position: absolute;
        width: 50px;
        height: 50px;
        background-color: lightgray;
        right: 0px;
        top: 40%;
        border-bottom-left-radius: 5px;
        border-top-left-radius: 5px;
        padding: 13px;
        color: #345675;
        z-index: 9;
        cursor: pointer;
    }

    .funcFiltroLista {
        position: absolute;
        width: 355px;
        z-index: 9;
        top: 27%;
        right: 45px;
        background-color: white;
        border-radius: 10px;
        border: 5px solid lightgray;
    }

    .fundoFiltroLista {
        position: fixed;
        width: 100%;
        height: 100%;
        z-index: 8;
    }

    .dropdown-menu.show {
        height: 200px;
    }

    h3.card-body {
        text-align: center;
    }

    .ab {
        padding: .9375rem 20px;
        position: relative;
        padding: 26px;
        height: 160px;
    }

    p.card-body {
        text-align: en");
            WriteLiteral(@"d;
        margin: -18px;
    }

    .cd {
        height: 160px;
        ;
    }

    .container-vermelho {
        border: 1px solid red;
    }

    input#dtReferencia {
        font-weight: bold;
    }

    span.numSemNum {
        font-size: 18px;
    }

    .qtdVermelho {
        color: red;
    }

    .qtdAzul {
        color: blue;
    }
    /*FIM CSS FILTRO*/
</style>
<div class=""boxFiltro"">
    <i class=""material-icons"">
        filter_alt
    </i>
</div>
<div class=""fundoFiltroLista""></div>
<div class=""funcFiltroLista"">
    <div class=""col-md-12"">

        <div class=""form-group col-md-12"">
            <span class=""toggle""></span>Referência
            <input type=""text"" class=""form-control datetimepicker"" value=""05/2021"" id=""dtReferencia"" name=""dtReferencia"" title=""Selecione a referência"" />
        </div>

        <div class=""form-group col-md-12"">
            <select multiple id=""cmbCidade"" class=""form-control selectpicker"" data-style=""btn btn-link"" ti");
            WriteLiteral("tle=\"Selecione a Cidade\">\r\n");
#nullable restore
#line 140 "C:\Users\WINDOWS\Documents\GitHub\Secovi\PortalPexIM\PortalPexIM\Views\Home\Index.cshtml"
                 foreach (var itens in Model.Cidades)
                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                    ");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("option", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "4527d059bcd5daabfad2e0c4bd58b65cd760bbf66621", async() => {
#nullable restore
#line 142 "C:\Users\WINDOWS\Documents\GitHub\Secovi\PortalPexIM\PortalPexIM\Views\Home\Index.cshtml"
                                      Write(itens);

#line default
#line hidden
#nullable disable
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper);
            BeginWriteTagHelperAttribute();
#nullable restore
#line 142 "C:\Users\WINDOWS\Documents\GitHub\Secovi\PortalPexIM\PortalPexIM\Views\Home\Index.cshtml"
                       WriteLiteral(itens);

#line default
#line hidden
#nullable disable
            __tagHelperStringValueBuffer = EndWriteTagHelperAttribute();
            __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper.Value = __tagHelperStringValueBuffer;
            __tagHelperExecutionContext.AddTagHelperAttribute("value", __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper.Value, global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n");
#nullable restore
#line 143 "C:\Users\WINDOWS\Documents\GitHub\Secovi\PortalPexIM\PortalPexIM\Views\Home\Index.cshtml"
                }

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n            </select>\r\n        </div>\r\n        <div class=\"form-group col-md-12\">\r\n            <select multiple id=\"cmbBairro\" class=\"form-control selectpicker\" data-style=\"btn btn-link\" title=\"Selecione o Bairro\">\r\n");
#nullable restore
#line 149 "C:\Users\WINDOWS\Documents\GitHub\Secovi\PortalPexIM\PortalPexIM\Views\Home\Index.cshtml"
                 foreach (var itens in Model.Bairros)
                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                    ");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("option", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "4527d059bcd5daabfad2e0c4bd58b65cd760bbf69175", async() => {
#nullable restore
#line 151 "C:\Users\WINDOWS\Documents\GitHub\Secovi\PortalPexIM\PortalPexIM\Views\Home\Index.cshtml"
                                      Write(itens);

#line default
#line hidden
#nullable disable
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper);
            BeginWriteTagHelperAttribute();
#nullable restore
#line 151 "C:\Users\WINDOWS\Documents\GitHub\Secovi\PortalPexIM\PortalPexIM\Views\Home\Index.cshtml"
                       WriteLiteral(itens);

#line default
#line hidden
#nullable disable
            __tagHelperStringValueBuffer = EndWriteTagHelperAttribute();
            __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper.Value = __tagHelperStringValueBuffer;
            __tagHelperExecutionContext.AddTagHelperAttribute("value", __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper.Value, global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n");
#nullable restore
#line 152 "C:\Users\WINDOWS\Documents\GitHub\Secovi\PortalPexIM\PortalPexIM\Views\Home\Index.cshtml"
                }

#line default
#line hidden
#nullable disable
            WriteLiteral("            </select>\r\n        </div>\r\n        <div class=\"form-group col-md-12\">\r\n            <select multiple id=\"cmbTipo\" class=\"form-control selectpicker\" data-style=\"btn btn-link\" title=\"Selecione o Tipo\">\r\n");
#nullable restore
#line 157 "C:\Users\WINDOWS\Documents\GitHub\Secovi\PortalPexIM\PortalPexIM\Views\Home\Index.cshtml"
                 foreach (var itens in Model.Tipos)
                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                    ");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("option", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "4527d059bcd5daabfad2e0c4bd58b65cd760bbf611719", async() => {
#nullable restore
#line 159 "C:\Users\WINDOWS\Documents\GitHub\Secovi\PortalPexIM\PortalPexIM\Views\Home\Index.cshtml"
                                      Write(itens);

#line default
#line hidden
#nullable disable
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.OptionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper);
            BeginWriteTagHelperAttribute();
#nullable restore
#line 159 "C:\Users\WINDOWS\Documents\GitHub\Secovi\PortalPexIM\PortalPexIM\Views\Home\Index.cshtml"
                       WriteLiteral(itens);

#line default
#line hidden
#nullable disable
            __tagHelperStringValueBuffer = EndWriteTagHelperAttribute();
            __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper.Value = __tagHelperStringValueBuffer;
            __tagHelperExecutionContext.AddTagHelperAttribute("value", __Microsoft_AspNetCore_Mvc_TagHelpers_OptionTagHelper.Value, global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n");
#nullable restore
#line 160 "C:\Users\WINDOWS\Documents\GitHub\Secovi\PortalPexIM\PortalPexIM\Views\Home\Index.cshtml"
                }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"            </select>
        </div>

        <div class=""form-group col-md-12"">
            <div class=""togglebutton radio"">
                <label>
                    <span style=""font-weight:bold""></span>Privativa
                    <input type=""checkbox"" id=""cmbTipoArea"">
                    <span class=""toggle""></span>Total
                </label>
            </div>
        </div>
        <div class=""col-md-6"" style=""float:left;"">
            <button type=""button"" class=""btn btn-default"" onclick=""limpaFiltro()"">Limpar</button>
        </div>
        <div class=""col-md-6"" style=""float:left;"">
            <button type=""button"" class=""btn btn-primary"" onclick=""preencheFiltro()"">Pesquisar</button>
        </div>
    </div>
</div>
<div class=""row"">
    <div class=""col-md-12"">
        <div class=""card"">
            <div class=""card-header card-header-info  card-header-icon"">
                <div class=""card-icon"">
                    <i class=""material-icons"">
                     ");
            WriteLiteral(@"   trending_up
                    </i>

                </div>
            </div>
            <div class=""card-body"">
                <div class=""row"">
                    <div class=""col-md-9"">
                        <h3 class=""card-title"" id=""tituloUnidade"">Quantidade de ofertas</h3>
                    </div>
                    <div class=""col-md-3"">
                        <div class=""togglebutton radio"">
                            <label>
                                <span style=""font-weight:bold""></span>Venda
                                <input type=""checkbox"" id=""cmbTipoImovel"">
                                <span class=""toggle""></span>Locação
                            </label>
                        </div>
                    </div>
                </div>
                <div class=""modal-loading-local""></div>
                <div class=""row"" id=""graficoEvolutivo"">

                </div>
            </div>
        </div>
    </div>
</div>
<div class=""row"">
");
            WriteLiteral(@"    <div class=""col-md-6"">
        <div class=""card"">
            <div class=""card-header card-header-icon card-header-info"">
                <div class=""card-icon"">
                    <i class=""material-icons"">room</i>
                </div>
                <h3 class=""card-title"" id=""tituloCalculo"">Quantidade de ofertas</h3>
            </div>
            <div class=""card-body ab"">
                <div class=""row"">
                    <div class=""col-md-12"">
                        <h3 class=""card-body numQtdOfe"" style=""font-size:18px"">Sem registros, por favor modifique a busca!</h3>
                    </div>
                    <div class=""col-md-12"">
                        <p class=""card-body minmaxcv "">min: R$ <span class=""valormin""></span></p>
                    </div>
                    <div class=""col-md-12"">
                        <p class=""card-body minmaxcv "">máx: R$ <span class=""valormax""></span></p>
                    </div>
                    <div class=""col-md-12"">
  ");
            WriteLiteral(@"                      <p class=""card-body minmaxcv "">CV: <span class=""valorcv""></span></p>
                    </div>
                    <br />
                </div>



            </div>
            <div class=""card-footer"">
                <div class=""stats"">
                    <i class=""material-icons"">local_offer</i>
                    <p> Baseado em <span class=""quadroOfertas""> 0 </span> ofertas</p>
                </div>
            </div>
        </div>
    </div>

    <div class=""col-md-6"">
        <div class=""card"">
            <div class=""card-header card-header-icon card-header-info"">
                <div class=""card-icon"">
                    <i class=""material-icons"">south_east</i>
                </div>
                <h3 class=""card-title"">Metragem média dos Imóveis</h3>

            </div>
            <div class=""card-body cd"">

                <div class=""row"">
                    <div class=""col-md-12"">
                        <h3 class=""card-body numMetMed");
            WriteLiteral("\" style=\"font-size:18px\">Sem registros, por favor modifique a busca!</h3>\r\n                    </div>\r\n");
            WriteLiteral(@"


                </div>

            </div>
            <div class=""card-footer"">
                <div class=""stats"">
                    <i class=""material-icons"">local_offer</i>

                    <p> Baseado em <span class=""quadroOfertas""> 0 </span> ofertas</p>
                </div>
            </div>
        </div>
    </div>
</div>



<div class=""row"" id=""boxGraficos"">

    <div class=""col-md-6"">
        <div class=""card"">
            <div class=""card-header card-header-icon card-header-info"">
                <div class=""card-icon"">
                    <i class=""material-icons"">room</i>
                </div>
            </div>
            <div class=""card-body"">
                <figure class=""highcharts-figure"">
                    <div class=""modal-loading-local""></div>
                    <div id=""graficoCidades""></div>
                </figure>
            </div>
            <div class=""card-footer"">
                <div class=""stats"">
                    <i c");
            WriteLiteral(@"lass=""material-icons"">local_offer</i>

                    <p class=""lblquadroOfertasCidades""> Baseado em <span class=""quadroOfertasCidades""> 0 </span> ofertas</p>
                </div>
            </div>
        </div>
    </div>

    <div class=""col-md-6"">
        <div class=""card"">
            <div class=""card-header card-header-icon card-header-info"">
                <div class=""card-icon"">
                    <i class=""material-icons"">south_east</i>
                </div>

            </div>
            <div class=""card-body"">
                <figure class=""highcharts-figure"">
                    <div class=""modal-loading-local""></div>
                    <div id=""graficoBairros""></div>
                </figure>
            </div>
            <div class=""card-footer"">
                <div class=""stats"">
                    <i class=""material-icons"">local_offer</i>

                    <p class=""lblquadroOfertasBairros""> Baseado em <span class=""quadroOfertasBairros""> 0 </span> o");
            WriteLiteral(@"fertas</p>
                </div>
            </div>
        </div>
    </div>

    <div class=""col-md-6"">
        <div class=""card"">
            <div class=""card-header card-header-icon card-header-info"">
                <div class=""card-icon"">
                    <i class=""material-icons"">language</i>
                </div>
            </div>
            <div class=""card-body"" id=""boxTipos"">
                <figure class=""highcharts-figure"">
                    <div class=""modal-loading-local""></div>
                    <div id=""graficoTipos""></div>
                </figure>
            </div>
            <div class=""card-footer"">
                <div class=""stats"">
                    <i class=""material-icons"">local_offer</i>

                    <p class=""lblquadroOfertasTipos""> Baseado em <span class=""quadroOfertasTipos""> 0 </span> ofertas</p>
                </div>
            </div>
        </div>
    </div>

    <div class=""col-md-6"">
        <div class=""card"">
         ");
            WriteLiteral(@"   <div class=""card-header card-header-icon card-header-info"">
                <div class=""card-icon"">
                    <i class=""material-icons"">garage</i>
                </div>
            </div>
            <div class=""card-body"">
                <figure class=""highcharts-figure"">
                    <div class=""modal-loading-local""></div>
                    <div id=""graficoGaragens""></div>
                </figure>
            </div>
            <div class=""card-footer"">
                <div class=""stats"">
                    <i class=""material-icons"">local_offer</i>

                    <p class=""lblquadroOfertasGaragens""> Baseado em <span class=""quadroOfertasGaragens""> 0 </span> ofertas</p>
                </div>
            </div>
        </div>
    </div>


</div>




<script src=""https://code.highcharts.com/highcharts.js""></script>
<script src=""https://code.highcharts.com/modules/data.js""></script>
<script src=""https://code.highcharts.com/modules/drilldown.js""></scri");
            WriteLiteral(@"pt>
<script src=""https://code.highcharts.com/modules/exporting.js""></script>
<script src=""https://code.highcharts.com/modules/export-data.js""></script>
<script src=""https://code.highcharts.com/modules/accessibility.js""></script>

<script>
    //function funcao1() {
    //    alert(""Eu sou um alert!"");
    //}
    var createCSV = {
        dadosCidade: [],
        dadosBairro: [],
        dadosTipo: [],
        dadosGaragem: [],
    };
    $(document).ready(function () {
        //Pesquisar();

        $('.datetimepicker').datetimepicker({
            viewMode: 'months',
            format: 'MM/YYYY',
            icons: {
                time: ""fa fa-clock-o"",
                date: ""fa fa-calendar"",
                up: ""fa fa-chevron-up"",
                down: ""fa fa-chevron-down"",
                previous: 'fa fa-chevron-left',
                next: 'fa fa-chevron-right',
                today: 'fa fa-screenshot',
                clear: 'fa fa-trash',
                close: 'fa f");
            WriteLiteral(@"a-remove'
            },
            locale: 'pt-br'
        });
        $('.datetimepicker').on('dp.hide', function (e) {
            $('.datetimepicker').datetimepicker('destroy');
            ativaNovamenteDate();
        });
        $('#cmbCidade').on('change', function () {
            document.querySelector(""[data-id='cmbCidade']"").classList.remove('container-vermelho');
        });
        $('.togglebutton').on('click', function () {
            preencheFiltro();
        });
        verificaPag()
    });
    function verificaPag() {
        var vemParametro = getUrlParameter('pag');
        console.log(vemParametro);
        if (vemParametro == 'qtd') {
            $('.menu-qo .nav-link').click();
        }
        if (vemParametro == 'vm') {
            console.log('entrei');
            $('.menu-vm .nav-link').click();
        }
        if (vemParametro == 'vm2') {
            $('.menu-vm2 .nav-link').click();
        }
    }
    function getUrlParameter(sParam) {
     ");
            WriteLiteral(@"   var sPageURL = window.location.search.substring(1),
            sURLVariables = sPageURL.split('&'),
            sParameterName,
            i;

        for (i = 0; i < sURLVariables.length; i++) {
            sParameterName = sURLVariables[i].split('=');

            if (sParameterName[0] === sParam) {
                return sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);
            }
        }
    };

    function recarregaPagina() {
        Pesquisar();
    }
    function ativaNovamenteDate() {

        $('.datetimepicker').datetimepicker({
            viewMode: 'months',
            format: 'MM/YYYY',
            icons: {
                date: ""fa fa-calendar"",
                up: ""fa fa-chevron-up"",
                down: ""fa fa-chevron-down"",
                previous: 'fa fa-chevron-left',
                next: 'fa fa-chevron-right',
                today: 'fa fa-screenshot',
                clear: 'fa fa-trash',
                close: 'fa");
            WriteLiteral(@" fa-remove',

            },
            locale: 'pt-br'
        });
    }
    var cidades = [];
    var bairros = [];
    var tipos = [];
    var tipoimovel = 1;
    var dtRefencia = """";
    var unidade;
    var tipoArea = 2;
    var possuiCidades = false;

    $('.boxFiltro').on('click', function () {
        $('.fundoFiltroLista').show();
        $('.funcFiltroLista').toggle();
    });
    $('.fundoFiltroLista').on('click', function () {
        $('.fundoFiltroLista').hide();
        $('.funcFiltroLista').hide();
    });

    $('#cmbCidade').on('change', function () {
        cidades = $('#cmbCidade').val();
        $.ajax({
            type: ""POST"",
            contentType: ""application/json; charset=utf-8"",
            url: ""/Home/Bairros"",
            data: JSON.stringify({ cidades }),

            dataType: ""json"",
            success: function (result) {
                console.log(result);
            }
        });
    });

    function limpaFiltro() {

      ");
            WriteLiteral(@"  cidades = [];
        bairros = [];
        tipos = [];

        $('#cmbCidade').val('');
        $('#cmbCidade').selectpicker(""refresh"");
        $('#cmbBairro').val('');
        $('#cmbBairro').selectpicker(""refresh"");
        $('#cmbTipo').val('');
        $('#cmbTipo').selectpicker(""refresh"");

        Pesquisar();
    }

    function preencheFiltro() {
        var data = $('#dtReferencia').val();
        var cidade = $('#cmbCidade').val();
        if (data == """" || cidade == """") {
            if (data == """") {
                document.querySelector(""[data-id='dtReferencia']"").classList.add('container-vermelho');
            }
            if (cidade == """") {
                document.querySelector(""[data-id='cmbCidade']"").classList.add('container-vermelho');
            }
        } else {

            $('.fundoFiltroLista').hide();
            $('.funcFiltroLista').hide();

            cidades = $('#cmbCidade').val();
            bairros = $('#cmbBairro').val();
           ");
            WriteLiteral(@" tipos = $('#cmbTipo').val();

            Pesquisar();
        }

    }


    function Pesquisar(pagina) {
        if ($(""#cmbTipoImovel"").is(':checked'))
            tipoimovel = 2;
        else
            tipoimovel = 1;

        if ($(""#cmbTipoArea"").is(':checked'))
            tipoArea = 1;
        else
            tipoArea = 2;

        cidades = $('#cmbCidade').val();
        bairros = $('#cmbBairro').val();
        tipos = $('#cmbTipo').val();
        dtRefencia = $('#dtReferencia').val();

        switch (document.querySelector(""#tituloUnidade"").innerHTML) {
            case ""Valor médio"":
                unidade = ""valorMedio""
                break;
            case ""Valor médio m²"":
                unidade = ""valorMedioMetros""
                break;
            default:
                unidade = ""quantidade""
        }



        CarregarGraficoMeses();
        CarregarGraficoTipos();
        CarregarGraficoCidades();
        CarregarGraficoBairros();
      ");
            WriteLiteral(@"  CarregarGraficoGaragens();

        if (unidade == ""quantidade"") {
            $('.minmaxcv').hide();
        }
        else {
            $('.minmaxcv').show();
        }
    }
    function transformaEmCSV(data) {
        //const rows = [
        //    [""name1"", ""city1"", ""some other info""],
        //    [""name2"", ""city2"", ""more info""]
        //];
        let rows = [];
        if (data == ""graficoCidades"") {
            $.each(createCSV.dadosCidade, function (a, e) {
                rows.push([e.key, e.value, e.quantidade]);
            });           
        }
        if (data == ""graficoBairros"") {
            $.each(createCSV.dadosBairro, function (a, e) {
                rows.push([e.key, e.value, e.quantidade]);
            });  
        }
        if (data == ""graficoTipos"") {
            $.each(createCSV.dadosTipo, function (a, e) {
                rows.push([e.key, e.value, e.quantidade]);
            }); 
        }
        if (data == ""graficoGaragens"") {
          ");
            WriteLiteral(@"  $.each(createCSV.dadosGaragem, function (a, e) {
                rows.push([e.key, e.value, e.quantidade]);
            }); 
        }
        let csvContent = """";
        rows.forEach(function (rowArray) {
            let row = rowArray.join("";"");
            csvContent += row + ""\r\n"";
        });
        //var encodedUri = encodeURI(csvContent);
        //window.open(encodedUri);
        var universalBOM = ""\uFEFF"";
        //var encodedUri = encodeURI(csvContent);
        var link = document.createElement(""a"");
        link.setAttribute(""href"", ""data:text/csv;charset=utf-8,"" + encodeURIComponent(universalBOM + csvContent));
        link.setAttribute(""download"", data+"".csv"");
        document.body.appendChild(link); // Required for FF
        
        link.click(); // This will download the data file named ""my_data.csv"".
    }

    function CarregarGraficoMeses() {
        var pagAtual = $('#tituloCalculo').html();
        $('.modal-loading-local').show();
        $('#graficoEvolu");
            WriteLiteral(@"tivo').hide();
        var processed_json = new Array();
        $.ajax({
            type: ""POST"",
            contentType: ""application/json; charset=utf-8"",
            url: ""/Home/GetEvolutivo"",
            //data: JSON.stringify({ cidades: cidades, Bairros: bairros, Tipos: tipos, TipoImovel: tipoimovel, DtReferencia: dtRefencia }),
            data: JSON.stringify({ cidades, bairros, tipos, tipoimovel, DtReferencia: dtRefencia, Unidade: unidade, TipoArea: tipoArea }),
            dataType: ""json"",
            success: function (result) {
                
                debugger;
                //quantidadeOfertas


                $('.modal-loading-local').hide();
                $('.quadroOfertas').html('0');
                $('#graficoEvolutivo').show();
                if (result.length == 0) {
                    if (possuiCidades == false) {
                        $('.numMetMed').html('<span class=""numSemNum"">Sem registros, por favor modifique a busca!</span>');
             ");
            WriteLiteral(@"           $('.numQtdOfe').html('<span class=""numSemNum"">Sem registros, por favor modifique a busca!</span>');
                    }
                    $('#graficoEvolutivo').html('Sem registros, por favor modifique a busca!');
                } else {
                    $('.quadroOfertas').html(result[result.length - 1].quantidadeOfertas.toLocaleString('pt-BR'));


                    if (possuiCidades == true) {

                        if (unidade != ""quantidade"") {
                            var todos = result[result.length - 1];
                            $('.numMetMed').html('' + todos.metragemMedia.toFixed(0));
                            $('.numQtdOfe').html('R$' + todos.value.toLocaleString('pt-BR'));
                            if (result[result.length - 1].maximo != null)
                                $('.valormax').html(result[result.length - 1].maximo.toLocaleString('pt-BR'));
                            if (result[result.length - 1].minimo != null)
                         ");
            WriteLiteral(@"       $('.valormin').html(result[result.length - 1].minimo.toLocaleString('pt-BR'));
                            if (result[result.length - 1].cv != null)
                                $('.valorcv').html(result[result.length - 1].cv.toLocaleString('pt-BR'));
                            $('.numQtdOfe').removeClass('qtdVermelho');
                            $('.numQtdOfe').removeClass('qtdAzul');
                            if (todos.value < 10) {
                                $('.numQtdOfe').removeClass('qtdAzul');
                                $('.numQtdOfe').addClass('qtdVermelho');
                            } else {
                                $('.numQtdOfe').removeClass('qtdVermelho');
                                $('.numQtdOfe').addClass('qtdAzul');
                            }
                        } else {
                            var todos = result[result.length - 1];
                            $('.numMetMed').html(todos.metragemMedia.toFixed(0));
                ");
            WriteLiteral(@"            $('.numQtdOfe').html(todos.value.toLocaleString('pt-BR'));
                            if (todos.value < 10) {
                                $('.numQtdOfe').removeClass('qtdAzul');
                                $('.numQtdOfe').addClass('qtdVermelho');
                            } else {
                                $('.numQtdOfe').removeClass('qtdVermelho');
                                $('.numQtdOfe').addClass('qtdAzul');
                            }
                        }

                    }

                    var processed_json = [];

                    for (i = 0; i < result.length; i++) {
                        if (pagAtual == 'Quantidade de ofertas')
                            processed_json.push([result[i].key, result[i].key + "" - "" + result[i].value, result[i].value]);
                        else
                            processed_json.push([result[i].key, result[i].key + "" - R$"" + result[i].value.toLocaleString('pt-BR'), result[i].value]);
   ");
            WriteLiteral(@"                 }

                    var dadosPivot = getPivotArray(processed_json, 0, 1, 2);

                    var categories = dadosPivot;
                    categories[0].shift();

                    var dadosGrafico = [];

                    for (i = 1; i < dadosPivot.length; i++) {

                        dadosGrafico.push({
                            name: dadosPivot[i].shift(),
                            data: dadosPivot[i],
                        });
                    }

                    CarregarGraficoEvolutivo(""graficoEvolutivo"", categories[0], dadosGrafico, ""Série histórica"", ""column"", ""12"");
                }


            },
            error: function (err) {
            }
        });

    }

    function CarregarGraficoCidades() {
        var pagAtual = $('#tituloCalculo').html();
        $('.modal-loading-local').show();
        $('#graficoCidades').hide();
        var processed_json = new Array();
        $.ajax({
            type: ""POST"",
");
            WriteLiteral(@"            contentType: ""application/json; charset=utf-8"",
            url: ""/Home/GetCidades"",
            data: JSON.stringify({ cidades, bairros, tipos, tipoimovel, DtReferencia: dtRefencia, Unidade: unidade, TipoArea: tipoArea }),
            dataType: ""json"",
            success: function (result) {
                createCSV.dadosCidade = result;
                $('.modal-loading-local').hide();
                $('.quadroOfertasCidades').html('0');
                $('#graficoCidades').show();
                if (result.length == 0) {
                    possuiCidades = false;

                    $('#graficoCidades').html('Sem registros, por favor modifique a busca!');
                } else {
                    possuiCidades = true;
                    var processed_json = [];

                    var value = 0;
                    var quantidade = 0;
                    for (i = 0; (i < result.length && i < 15 ); i++) {
                        var key = result[i].key;
           ");
            WriteLiteral(@"             quantidade += result[i].quantidade;


                        //if (i >= 15) {
                        //    var key = ""OUTRAS"";
                        //    value += result[i].value;
                        //    processed_json.push([key, key, value]);
                        //}
                        //else
                        if (pagAtual == 'Quantidade de ofertas')
                            processed_json.push([result[i].key, result[i].key, result[i].value]);
                        else
                            processed_json.push([result[i].key, result[i].key, result[i].value]);
                    }

                    $('.quadroOfertasCidades').html(quantidade.toLocaleString('pt-BR'));
                    if (quantidade < 10) {
                        $('.quadroOfertasCidades').addClass('qtdVermelho');
                        $('.lblquadroOfertasCidades').addClass('qtdVermelho');
                    } else {
                        $('.quadroOfertasCidades");
            WriteLiteral(@"').removeClass('qtdVermelho');
                        $('.lblquadroOfertasCidades').removeClass('qtdVermelho');
                    }



                    var dadosPivot = getPivotArray(processed_json, 0, 1, 2);

                    var categories = dadosPivot;
                    categories[0].shift();

                    var dadosGrafico = [];


                    for (i = 1; i < dadosPivot.length; i++) {

                        dadosGrafico.push({
                            name: dadosPivot[i].shift(),
                            data: dadosPivot[i]
                        });
                    }


                    CarregarGrafico(""graficoCidades"", categories[0], dadosGrafico, ""Cidades"", ""bar"", ""6"");
                }
            },
            error: function (err) {
            }
        });
    }

    function CarregarGraficoBairros() {
        var pagAtual = $('#tituloCalculo').html();
        $('.modal-loading-local').show();
        $('#graficoBairros').h");
            WriteLiteral(@"ide();
        var processed_json = new Array();

        $.ajax({
            type: ""POST"",
            contentType: ""application/json; charset=utf-8"",
            url: ""/Home/GetBairros"",
            data: JSON.stringify({ cidades, bairros, tipos, tipoimovel, DtReferencia: dtRefencia, Unidade: unidade, TipoArea: tipoArea }),

            dataType: ""json"",
            success: function (result) {
                debugger;
                createCSV.dadosBairro = result;
                $('.modal-loading-local').hide();
                $('.quadroOfertasBairros').html('0');
                $('#graficoBairros').show();

                if (result.length == 0) {
                    $('#graficoBairros').html('Sem registros, por favor modifique a busca!');
                } else {
                    var processed_json = [];

                    var value = 0;
                    var quantidade = 0;
                    for (i = 0; (i < result.length && i < 15); i++) {
                      ");
            WriteLiteral(@"  var key = result[i].key;
                        quantidade += result[i].quantidade;

                        //if (i >= 15) {
                        //    var key = ""OUTROS"";
                        //    value += result[i].value;
                        //    processed_json.push([key, key, value]);
                        //}
                        //else
                        if (pagAtual == 'Quantidade de ofertas')
                            processed_json.push([result[i].key, result[i].key, result[i].value]);
                        else
                            processed_json.push([result[i].key, result[i].key, result[i].value]);
                    }

                    $('.quadroOfertasBairros').html(quantidade.toLocaleString('pt-BR'));
                    if (quantidade < 10) {
                        $('.quadroOfertasBairros').addClass('qtdVermelho');
                        $('.lblquadroOfertasBairros').addClass('qtdVermelho');
                    } else {
           ");
            WriteLiteral(@"             $('.quadroOfertasBairros').removeClass('qtdVermelho');
                        $('.lblquadroOfertasBairros').removeClass('qtdVermelho');
                    }


                    var dadosPivot = getPivotArray(processed_json, 0, 1, 2);

                    var categories = dadosPivot;
                    categories[0].shift();

                    var dadosGrafico = [];

                    for (i = 1; i < dadosPivot.length; i++) {

                        dadosGrafico.push({
                            name: dadosPivot[i].shift(),
                            data: dadosPivot[i]
                        });
                    }

                    CarregarGrafico(""graficoBairros"", categories[0], dadosGrafico, ""Bairros"", ""bar"", ""6"");
                }
            },
            error: function (err) {
            }
        });
    }

    function CarregarGraficoTipos() {
        var pagAtual = $('#tituloCalculo').html();
        $('.modal-loading-local').show();
 ");
            WriteLiteral(@"       $('#graficoTipos').hide();
        var processed_json = new Array();

        $.ajax({
            type: ""POST"",
            contentType: ""application/json; charset=utf-8"",
            url: ""/Home/GetTipos"",
            data: JSON.stringify({ cidades, bairros, tipos, tipoimovel, DtReferencia: dtRefencia, Unidade: unidade, TipoArea: tipoArea }),

            dataType: ""json"",
            success: function (result) {
                createCSV.dadosTipo = result;
                $('.modal-loading-local').hide();
                $('.quadroOfertasTipos').html('0');
                $('#graficoTipos').show();

                if (result.length == 0) {
                    $('#graficoTipos').html('Sem registros, por favor modifique a busca!');
                } else {
                    var processed_json = [];

                    var value = 0;
                    var quantidade = 0;
                    for (i = 0; (i < result.length && i < 15); i++) {
                        var key ");
            WriteLiteral(@"= result[i].key;
                        quantidade += result[i].quantidade;

                        //if (i >= 15) {
                        //    var key = ""OUTROS"";
                        //    value += result[i].value;
                        //    processed_json.push([key, key, value]);
                        //}
                        // else
                        if (pagAtual == 'Quantidade de ofertas')
                            processed_json.push([result[i].key, result[i].key, result[i].value]);
                        else
                            processed_json.push([result[i].key, result[i].key, result[i].value]);
                    }

                    $('.quadroOfertasTipos').html(quantidade.toLocaleString('pt-BR'));
                    if (quantidade < 10) {
                        $('.quadroOfertasTipos').addClass('qtdVermelho');
                        $('.lblquadroOfertasTipos').addClass('qtdVermelho');
                    } else {
                        $(");
            WriteLiteral(@"'.quadroOfertasTipos').removeClass('qtdVermelho');
                        $('.lblquadroOfertasTipos').removeClass('qtdVermelho');
                    }



                    var dadosPivot = getPivotArray(processed_json, 0, 1, 2);

                    var categories = dadosPivot;
                    categories[0].shift();

                    var dadosGrafico = [];

                    for (i = 1; i < dadosPivot.length; i++) {

                        dadosGrafico.push({
                            name: dadosPivot[i].shift(),
                            data: dadosPivot[i]
                        });
                    }

                    CarregarGrafico(""graficoTipos"", categories[0], dadosGrafico, ""Tipo de imóvel"", ""bar"", ""6"");
                }
            },
            error: function (err) {
            }
        });
    }

    function CarregarGraficoGaragens() {
        $('.modal-loading-local').show();
        $('#graficoGaragens').hide();
        var processed_j");
            WriteLiteral(@"son = new Array();

        $.ajax({
            type: ""POST"",
            contentType: ""application/json; charset=utf-8"",
            url: ""/Home/GetGaragens"",
            data: JSON.stringify({ cidades, bairros, tipos, tipoimovel, DtReferencia: dtRefencia, Unidade: unidade, TipoArea: tipoArea }),

            dataType: ""json"",
            success: function (result) {
                createCSV.dadosGaragem = result;
                $('.modal-loading-local').hide();
                $('.quadroOfertasGaragens').html('0');
                $('#graficoGaragens').show();
                if (result.length == 0) {
                    $('#graficoGaragens').html('Sem registros, por favor modifique a busca!');
                } else {
                    CarregarGraficoPizza(""graficoGaragens"", ""Garagens"", result);
                }
            },
            error: function (err) {
            }
        });
    }

    function CarregarGrafico(id, categories, dadosGrafico, titulo, tipo, colmd) {");
            WriteLiteral(@"


        Highcharts.chart(id, {
            chart: {
                type: tipo,
                height: 800
            },
            title: {
                text: titulo
            },
            legend: {
                itemStyle: {
                    fontSize: '10px'
                },
                enabled: false
            },
            yAxis: {
                title: {
                    text: ''
                }
            },
            //yAxis: {
            //   // min: 10,
            //    startOnTick: false
            //},
            plotOptions: {
                bar: {
                    dataLabels: {
                        enabled: true,
                        formatter: function () {
                            if (this.y < 1)
                                return '';
                            else {
                                if (unidade == 'quantidade') {
                                    return this.y.toLocaleString('pt-BR')
");
            WriteLiteral(@"                                }
                                else {
                                    return ""R$"" + this.y.toFixed(2).toLocaleString('pt-BR')
                                }
                            }

                        }
                    }
                },
                series: {
                    pointWidth: 35
                }
            },

            xAxis: {
                categories: categories
            },
            series: dadosGrafico,

            exporting: {
                menuItemDefinitions: {
                    // Custom definition
                    label: {
                        onclick: function (vai, cavalo) {
                           
                            transformaEmCSV(vai.path[4].id);
                        },
                        text: 'Download CSV'
                    }
                },
                buttons: {
                    contextButton: {
                        menuItem");
            WriteLiteral(@"s: [""viewFullscreen"", ""printChart"", ""separator"", ""downloadPNG"", ""downloadJPEG"", ""downloadPDF"", ""downloadSVG"", 'separator', ""label""]
                    }
                }
            }
        });
    }

    function CarregarGraficoEvolutivo(id, categories, dadosGrafico, titulo, tipo, colmd) {


        Highcharts.chart(id, {
            chart: {
                type: tipo,
                height: 400
            },
            title: {
                text: titulo
            },
            legend: {
                itemStyle: {
                    fontSize: '10px'
                },
                enabled: false
            },
            yAxis: {
                title: {
                    text: ''
                }
            },
            //yAxis: {
            //   // min: 10,
            //    startOnTick: false
            //},
            plotOptions: {
                series: {
                    pointWidth: 35
                }
            },

          ");
            WriteLiteral(@"  xAxis: {
                categories: categories
            },
            series: dadosGrafico
        });
    }


    function CarregarGraficoPizza(id, titulo, dados) {



        var dadosProcessados = [];
        var quantidade = 0

        $.each(dados, function (i, obj) {
            var agregador = { name: obj.key, y: obj.value }
            quantidade += obj.quantidade;

            var resultObject = search(obj.key, dadosProcessados);

            if (!resultObject) {
                dadosProcessados.push(agregador)
            }
            else {
                resultObject.y += (obj.value)
            }

        })

        $('.quadroOfertasGaragens').html(quantidade.toLocaleString('pt-BR'));
        if (quantidade < 10) {
            $('.quadroOfertasGaragens').addClass('qtdVermelho');
            $('.lblquadroOfertasGaragens').addClass('qtdVermelho');
        } else {
            $('.quadroOfertasGaragens').removeClass('qtdVermelho');
            $('.lblqua");
            WriteLiteral(@"droOfertasGaragens').removeClass('qtdVermelho');
        }

        Highcharts.chart(id, {
            chart: {
                plotBackgroundColor: null,
                plotBorderWidth: null,
                plotShadow: false,
                type: 'pie',
                height: 800
            },
            title: {
                text: titulo
            },
            tooltip: {
                pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
            },
            plotOptions: {
                pie: {
                    allowPointSelect: true,
                    cursor: 'pointer',
                    dataLabels: {
                        enabled: true,
                        format: '<b>{point.name}</b>: {point.percentage:.1f} %'
                    }
                }
            },
            series: [{
                name: '',
                colorByPoint: true,
                data: dadosProcessados
            }],

            exporting: {
  ");
            WriteLiteral(@"              menuItemDefinitions: {
                    // Custom definition
                    label: {
                        onclick: function (vai, cavalo) {
                            transformaEmCSV(vai.path[4].id);

                        },
                        text: 'Download CSV'
                    }
                },
                buttons: {
                    contextButton: {
                        menuItems: [""viewFullscreen"", ""printChart"", ""separator"", ""downloadPNG"", ""downloadJPEG"", ""downloadPDF"", ""downloadSVG"", 'separator', ""label""]
                    }
                }
            }
        });
    }


    function getPivotArray(dataArray, rowIndex, colIndex, dataIndex) {
        //Code from https://techbrij.com
        var result = {}, ret = [];
        var newCols = [];
        for (var i = 0; i < dataArray.length; i++) {

            if (!result[dataArray[i][rowIndex]]) {
                result[dataArray[i][rowIndex]] = {};
            }
        ");
            WriteLiteral(@"    result[dataArray[i][rowIndex]][dataArray[i][colIndex]] = dataArray[i][dataIndex];

            //To get column names
            if (newCols.indexOf(dataArray[i][colIndex]) == -1) {
                newCols.push(dataArray[i][colIndex]);
            }
        }

        // newCols.sort();
        var item = [];

        //Add Header Row
        item.push('Item');
        item.push.apply(item, newCols);
        ret.push(item);

        //Add content
        for (var key in result) {
            item = [];
            item.push(key);
            for (var i = 0; i < newCols.length; i++) {

                item.push(result[key][newCols[i]] || 0);
            }
            ret.push(item);
        }
        return ret;
    }

    function search(nameKey, myArray) {
        for (var i = 0; i < myArray.length; i++) {
            if (myArray[i].name === nameKey) {
                return myArray[i];
            }
        }
    }
</script>
");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
